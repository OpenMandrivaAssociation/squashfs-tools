From 2f194c80b141d1fe5a68f8661750264beaefdc78 Mon Sep 17 00:00:00 2001
From: Phillip Lougher <phillip@squashfs.org.uk>
Date: Wed, 27 Aug 2014 05:46:27 +0100
Subject: [PATCH 071/120] action: make action_read_file use
 ACTION_LOG_{NONE|VERBOSE}

Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
---
 squashfs-tools/action.c | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

diff --git a/squashfs-tools/action.c b/squashfs-tools/action.c
index 6feb616..e7304a8 100644
--- a/squashfs-tools/action.c
+++ b/squashfs-tools/action.c
@@ -797,22 +797,24 @@ static int eval_expr_top(struct action *action, struct action_data *action_data)
  */
 int parse_action_verbose(char *s)
 {
-	return parse_action(s, 1);
+	return parse_action(s, ACTION_LOG_VERBOSE);
 }
 
 
 int parse_action_nonverbose(char *s)
 {
-	return parse_action(s, 0);
+	return parse_action(s, ACTION_LOG_NONE);
 }
 
 
 int read_action_file(char *filename, int verbose)
 {
-	if(verbose)
+	switch(verbose) {
+	case ACTION_LOG_VERBOSE:
 		return read_file(filename, "action", parse_action_verbose);
-	else
+	default:
 		return read_file(filename, "action", parse_action_nonverbose);
+	}
 }
 
 
-- 
2.8.3

